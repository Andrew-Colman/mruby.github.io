<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Class: Hash
  
    &mdash; Documentation by YARD 0.8.7.6
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="css/common.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="css/mruby.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '';
  framesUrl = "frames.html#!Hash.html";
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/mruby.js"></script>


  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="_index.html">Index (H)</a> &raquo;
    
    
    <span class="title">Hash</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link"
        href="method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="header_list_link"
        href="header_list.html">
      Header List
    </a>
  
    <a class="full_list_link" id="function_list_link"
        href="function_list.html">
      Function List
    </a>
  
    <a class="full_list_link" id="file_list_link"
        href="file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><h1>Class: Hash
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName"><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></span>
      
        <ul class="fullTree">
          <li><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></li>
          
            <li class="next">Hash</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
      <dt class="r2">Includes:</dt>
      <dd class="r2"><span class='object_link'><a href="Enumerable.html" title="Enumerable (module)">Enumerable</a></span></dd>
      
    
  
  
  
    <dt class="r1 last">Defined in:</dt>
    <dd class="r1 last">mrblib/hash.rb<span class="defines">,<br />
  src/hash.c,<br /> mrblib/hash.rb,<br /> mrbgems/mruby-hash-ext/mrblib/hash.rb</span>
</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>Hash is enumerable</p>

<p>ISO 15.2.13.3</p>


  </div>
</div>
<div class="tags">
  

</div>


  <h2>Constant Summary</h2>
  



  <h2>Constant Summary</h2>
  
  <h3 class="inherited">Constants included
     from <span class='object_link'><a href="Enumerable.html" title="Enumerable (module)">Enumerable</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Enumerable.html#NONE-constant" title="Enumerable::NONE (constant)">Enumerable::NONE</a></span></p>





  
    <h2>
      Class Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#%5B%5D-class_method" title="[] (class method)">+ (Object) <strong>[]</strong>(*object) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>call-seq:     Hash[ key, value, ... ] -&gt; new_hash     Hash[ [ [key, value], ... ] ] -&gt; new_hash     Hash[ object ] -&gt; new_hash.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#try_convert-class_method" title="try_convert (class method)">+ (Object) <strong>try_convert</strong>(obj) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>call-seq:     Hash.try_convert(obj) -&gt; hash or nil.</p>
</div></span>
  
</li>

      
    </ul>
  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#%3C-instance_method" title="#&lt; (instance method)">- (Object) <strong>&lt;</strong>(hash) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>call-seq:    hash  true or false.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#%3C%3D-instance_method" title="#&lt;= (instance method)">- (Object) <strong>&lt;=</strong>(hash) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>call-seq:    hash  true or false.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#%3D%3D-instance_method" title="#== (instance method)">- (Object) <strong>==</strong>(hash) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Equality---Two hashes are equal if they each contain the same number  of keys and if each key-value pair is equal to (according to  Object#==) the corresponding elements in the other  hash.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#%3E-instance_method" title="#&gt; (instance method)">- (Object) <strong>&gt;</strong>(hash) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>call-seq:    hash &gt; other -&gt; true or false.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#%3E%3D-instance_method" title="#&gt;= (instance method)">- (Object) <strong>&gt;=</strong>(hash) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>call-seq:    hash &gt;= other -&gt; true or false.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#%5B%5D-instance_method" title="#[] (instance method)">- (Object) <strong>[]</strong>(key) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Element Reference---Retrieves the value object corresponding to the key object.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#%5B%5D%3D-instance_method" title="#[]= (instance method)">- (Object) <strong>[]=</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Element Assignment---Associates the value given by value with the key given by key.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#__delete-instance_method" title="#__delete (instance method)">- (Object) <strong>__delete</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Deletes and returns a key-value pair from hsh whose key is equal to key.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#__update-instance_method" title="#__update (instance method)">- (Object) <strong>__update</strong>(h) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#_inspect-instance_method" title="#_inspect (instance method)">- (Object) <strong>_inspect</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>internal method for Hash inspection.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#clear-instance_method" title="#clear (instance method)">- (Hash) <strong>clear</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Removes all key-value pairs from <code>hsh</code>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#default-instance_method" title="#default (instance method)">- (Object) <strong>default</strong>(key = nil) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns the default value, the value that would be returned by hsh[key] if key did not exist in hsh.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#default%3D-instance_method" title="#default= (instance method)">- (Object) <strong>default=</strong>(obj) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Sets the default value, the value returned for a key that does not exist in the hash.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#default_proc-instance_method" title="#default_proc (instance method)">- (Object) <strong>default_proc</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>If Hash::new was invoked with a block, return that block, otherwise return nil.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#default_proc%3D-instance_method" title="#default_proc= (instance method)">- (Proc) <strong>default_proc=</strong>(proc_obj) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Sets the default proc to be executed on each key lookup.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#delete-instance_method" title="#delete (instance method)">- (Object) <strong>delete</strong>(key, &amp;block) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Delete the element with the key +key+.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#delete_if-instance_method" title="#delete_if (instance method)">- (Object) <strong>delete_if</strong>(&amp;block) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>call-seq:     hsh.delete_if {| key, value | block }  -&gt; hsh     hsh.delete_if                          -&gt; an_enumerator.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dup-instance_method" title="#dup (instance method)">- (Object) <strong>dup</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>15.2.13.4.24.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#each-instance_method" title="#each (instance method)">- (Object) <strong>each</strong>(&amp;block) </a>
    

    
      (also: #each_pair)
    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Calls the given block for each element of +self+ and pass the key and value of each element.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#each_key-instance_method" title="#each_key (instance method)">- (Object) <strong>each_key</strong>(&amp;block) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Calls the given block for each element of +self+ and pass the key of each element.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#each_value-instance_method" title="#each_value (instance method)">- (Object) <strong>each_value</strong>(&amp;block) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Calls the given block for each element of +self+ and pass the value of each element.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#empty%3F-instance_method" title="#empty? (instance method)">- (Boolean) <strong>empty?</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns true if hsh contains no key-value pairs.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#eql%3F-instance_method" title="#eql? (instance method)">- (Boolean) <strong>eql?</strong>(hash) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns true if hash and other are both hashes with the same content compared by eql?.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#fetch-instance_method" title="#fetch (instance method)">- (Object) <strong>fetch</strong>(key, none = NONE, &amp;block) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>call-seq:     hsh.fetch(key [, default] )       -&gt; obj     hsh.fetch(key) {| key | block }   -&gt; obj.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#flatten-instance_method" title="#flatten (instance method)">- (Object) <strong>flatten</strong>(level = 1) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>call-seq:     hash.flatten -&gt; an_array     hash.flatten(level) -&gt; an_array.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#has_key%3F-instance_method" title="#has_key? (instance method)">- (Boolean) <strong>has_key?</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns true if the given key is present in hsh.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#has_value%3F-instance_method" title="#has_value? (instance method)">- (Boolean) <strong>has_value?</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns true if the given value is present for some key in hsh.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#include%3F-instance_method" title="#include? (instance method)">- (Boolean) <strong>include?</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns true if the given key is present in hsh.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">- (Object) <strong>initialize</strong> </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns a new, empty hash.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#inspect-instance_method" title="#inspect (instance method)">- (Object) <strong>inspect</strong> </a>
    

    
      (also: #to_s)
    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>ISO 15.2.13.4.30 (x).</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#invert-instance_method" title="#invert (instance method)">- (Object) <strong>invert</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>call-seq:     hsh.invert -&gt; new_hash.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#keep_if-instance_method" title="#keep_if (instance method)">- (Object) <strong>keep_if</strong>(&amp;block) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>call-seq:     hsh.keep_if {| key, value | block }  -&gt; hsh     hsh.keep_if                          -&gt; an_enumerator.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#key-instance_method" title="#key (instance method)">- (Object) <strong>key</strong>(val) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>call-seq:     hsh.key(value)    -&gt; key.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#key%3F-instance_method" title="#key? (instance method)">- (Boolean) <strong>key?</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns true if the given key is present in hsh.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#keys-instance_method" title="#keys (instance method)">- (Array) <strong>keys</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns a new array populated with the keys from this hash.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#length-instance_method" title="#length (instance method)">- (Object) <strong>length</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns the number of key-value pairs in the hash.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#member%3F-instance_method" title="#member? (instance method)">- (Boolean) <strong>member?</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns true if the given key is present in hsh.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#merge-instance_method" title="#merge (instance method)">- (Object) <strong>merge</strong>(other, &amp;block) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Return a hash which contains the content of +self+ and +other+.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#merge%21-instance_method" title="#merge! (instance method)">- (Object) <strong>merge!</strong>(other, &amp;block) </a>
    

    
      (also: #update)
    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>call-seq:     hsh.merge!(other_hash)                                 -&gt; hsh     hsh.merge!(other_hash){|key, oldval, newval| block}    -&gt; hsh.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#rehash-instance_method" title="#rehash (instance method)">- (Object) <strong>rehash</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>call-seq:    hsh.rehash -&gt; hsh.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#reject-instance_method" title="#reject (instance method)">- (Object) <strong>reject</strong>(&amp;b) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>call-seq:     hsh.reject {|key, value| block}   -&gt; a_hash     hsh.reject                        -&gt; an_enumerator.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#reject%21-instance_method" title="#reject! (instance method)">- (Object) <strong>reject!</strong>(&amp;b) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>call-seq:     hsh.reject! {| key, value | block }  -&gt; hsh or nil     hsh.reject!                          -&gt; an_enumerator.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#replace-instance_method" title="#replace (instance method)">- (Object) <strong>replace</strong>(hash) </a>
    

    
      (also: #initialize_copy)
    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Replaces the contents of hsh with the contents of other hash.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#select-instance_method" title="#select (instance method)">- (Object) <strong>select</strong>(&amp;b) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>call-seq:     hsh.select {|key, value| block}   -&gt; a_hash     hsh.select                        -&gt; an_enumerator.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#select%21-instance_method" title="#select! (instance method)">- (Object) <strong>select!</strong>(&amp;b) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>call-seq:     hsh.select! {| key, value | block }  -&gt; hsh or nil     hsh.select!                          -&gt; an_enumerator.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#shift-instance_method" title="#shift (instance method)">- (Array, Object) <strong>shift</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Removes a key-value pair from hsh and returns it as the two-item array [ key, value ], or the hash&#39;s default value if the hash is empty.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#size-instance_method" title="#size (instance method)">- (Object) <strong>size</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns the number of key-value pairs in the hash.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#store-instance_method" title="#store (instance method)">- (Object) <strong>store</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Element Assignment---Associates the value given by value with the key given by key.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_h-instance_method" title="#to_h (instance method)">- (Object) <strong>to_h</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>call-seq:     hsh.to_h     -&gt; hsh or new_hash.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_hash-instance_method" title="#to_hash (instance method)">- (Hash) <strong>to_hash</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns +self+.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#value%3F-instance_method" title="#value? (instance method)">- (Boolean) <strong>value?</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns true if the given value is present for some key in hsh.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#values-instance_method" title="#values (instance method)">- (Array) <strong>values</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns a new array populated with the values from hsh.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#values_at-instance_method" title="#values_at (instance method)">- (Array) <strong>values_at</strong>(key, ...) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Return an array containing the values associated with the given keys.</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="Enumerable.html" title="Enumerable (module)">Enumerable</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Enumerable.html#__sort_sub__-instance_method" title="Enumerable#__sort_sub__ (method)">#__sort_sub__</a></span>, <span class='object_link'><a href="Enumerable.html#all%3F-instance_method" title="Enumerable#all? (method)">#all?</a></span>, <span class='object_link'><a href="Enumerable.html#any%3F-instance_method" title="Enumerable#any? (method)">#any?</a></span>, <span class='object_link'><a href="Enumerable.html#collect-instance_method" title="Enumerable#collect (method)">#collect</a></span>, <span class='object_link'><a href="Enumerable.html#count-instance_method" title="Enumerable#count (method)">#count</a></span>, <span class='object_link'><a href="Enumerable.html#cycle-instance_method" title="Enumerable#cycle (method)">#cycle</a></span>, <span class='object_link'><a href="Enumerable.html#detect-instance_method" title="Enumerable#detect (method)">#detect</a></span>, <span class='object_link'><a href="Enumerable.html#drop-instance_method" title="Enumerable#drop (method)">#drop</a></span>, <span class='object_link'><a href="Enumerable.html#drop_while-instance_method" title="Enumerable#drop_while (method)">#drop_while</a></span>, <span class='object_link'><a href="Enumerable.html#each_cons-instance_method" title="Enumerable#each_cons (method)">#each_cons</a></span>, <span class='object_link'><a href="Enumerable.html#each_slice-instance_method" title="Enumerable#each_slice (method)">#each_slice</a></span>, <span class='object_link'><a href="Enumerable.html#each_with_index-instance_method" title="Enumerable#each_with_index (method)">#each_with_index</a></span>, <span class='object_link'><a href="Enumerable.html#each_with_object-instance_method" title="Enumerable#each_with_object (method)">#each_with_object</a></span>, <span class='object_link'><a href="Enumerable.html#entries-instance_method" title="Enumerable#entries (method)">#entries</a></span>, <span class='object_link'><a href="Enumerable.html#find_all-instance_method" title="Enumerable#find_all (method)">#find_all</a></span>, <span class='object_link'><a href="Enumerable.html#find_index-instance_method" title="Enumerable#find_index (method)">#find_index</a></span>, <span class='object_link'><a href="Enumerable.html#first-instance_method" title="Enumerable#first (method)">#first</a></span>, <span class='object_link'><a href="Enumerable.html#flat_map-instance_method" title="Enumerable#flat_map (method)">#flat_map</a></span>, <span class='object_link'><a href="Enumerable.html#grep-instance_method" title="Enumerable#grep (method)">#grep</a></span>, <span class='object_link'><a href="Enumerable.html#group_by-instance_method" title="Enumerable#group_by (method)">#group_by</a></span>, <span class='object_link'><a href="Enumerable.html#hash-instance_method" title="Enumerable#hash (method)">#hash</a></span>, <span class='object_link'><a href="Enumerable.html#inject-instance_method" title="Enumerable#inject (method)">#inject</a></span>, <span class='object_link'><a href="Enumerable.html#lazy-instance_method" title="Enumerable#lazy (method)">#lazy</a></span>, <span class='object_link'><a href="Enumerable.html#max-instance_method" title="Enumerable#max (method)">#max</a></span>, <span class='object_link'><a href="Enumerable.html#max_by-instance_method" title="Enumerable#max_by (method)">#max_by</a></span>, <span class='object_link'><a href="Enumerable.html#min-instance_method" title="Enumerable#min (method)">#min</a></span>, <span class='object_link'><a href="Enumerable.html#min_by-instance_method" title="Enumerable#min_by (method)">#min_by</a></span>, <span class='object_link'><a href="Enumerable.html#minmax-instance_method" title="Enumerable#minmax (method)">#minmax</a></span>, <span class='object_link'><a href="Enumerable.html#minmax_by-instance_method" title="Enumerable#minmax_by (method)">#minmax_by</a></span>, <span class='object_link'><a href="Enumerable.html#none%3F-instance_method" title="Enumerable#none? (method)">#none?</a></span>, <span class='object_link'><a href="Enumerable.html#one%3F-instance_method" title="Enumerable#one? (method)">#one?</a></span>, <span class='object_link'><a href="Enumerable.html#partition-instance_method" title="Enumerable#partition (method)">#partition</a></span>, <span class='object_link'><a href="Enumerable.html#reverse_each-instance_method" title="Enumerable#reverse_each (method)">#reverse_each</a></span>, <span class='object_link'><a href="Enumerable.html#sort-instance_method" title="Enumerable#sort (method)">#sort</a></span>, <span class='object_link'><a href="Enumerable.html#sort_by-instance_method" title="Enumerable#sort_by (method)">#sort_by</a></span>, <span class='object_link'><a href="Enumerable.html#take-instance_method" title="Enumerable#take (method)">#take</a></span>, <span class='object_link'><a href="Enumerable.html#take_while-instance_method" title="Enumerable#take_while (method)">#take_while</a></span>, <span class='object_link'><a href="Enumerable.html#to_h-class_method" title="Enumerable.to_h (method)">to_h</a></span>, <span class='object_link'><a href="Enumerable.html#zip-instance_method" title="Enumerable#zip (method)">#zip</a></span></p>
<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    
      <span class="overload">- (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>new</strong> </span>
    
      <span class="overload">- (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>new</strong>(obj) </span>
    
      <span class="overload">- (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>new</strong> {|hash, key| ... }</span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns a new, empty hash. If this hash is subsequently accessed by
a key that doesn&#39;t correspond to a hash entry, the value returned
depends on the style of <code>new</code> used to create the hash. In
the first form, the access returns <code>nil</code>. If
<i>obj</i> is specified, this single object will be used for
all <em>default values</em>. If a block is specified, it will be
called with the hash object and the key, and should return the
default value. It is the block&#39;s responsibility to store the value
in the hash if required.</p>

<pre class="code"><code class="">h = <span style="color:#036;font-weight:bold">Hash</span>.new(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Go Fish</span><span style="color:#710">&quot;</span></span>)
h[<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">a</span><span style="color:#710">&quot;</span></span>] = <span style="color:#00D">100</span>
h[<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">b</span><span style="color:#710">&quot;</span></span>] = <span style="color:#00D">200</span>
h[<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">a</span><span style="color:#710">&quot;</span></span>]           <span style="color:#777">#=&gt; 100</span>
h[<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">c</span><span style="color:#710">&quot;</span></span>]           <span style="color:#777">#=&gt; &quot;Go Fish&quot;</span>
<span style="color:#777"># The following alters the single default object</span>
h[<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">c</span><span style="color:#710">&quot;</span></span>].upcase!   <span style="color:#777">#=&gt; &quot;GO FISH&quot;</span>
h[<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">d</span><span style="color:#710">&quot;</span></span>]           <span style="color:#777">#=&gt; &quot;GO FISH&quot;</span>
h.keys           <span style="color:#777">#=&gt; [&quot;a&quot;, &quot;b&quot;]</span>

<span style="color:#777"># While this creates a new default object each time</span>
h = <span style="color:#036;font-weight:bold">Hash</span>.new { |hash, key| hash[key] = <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Go Fish: </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>key<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span> }
h[<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">c</span><span style="color:#710">&quot;</span></span>]           <span style="color:#777">#=&gt; &quot;Go Fish: c&quot;</span>
h[<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">c</span><span style="color:#710">&quot;</span></span>].upcase!   <span style="color:#777">#=&gt; &quot;GO FISH: C&quot;</span>
h[<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">d</span><span style="color:#710">&quot;</span></span>]           <span style="color:#777">#=&gt; &quot;Go Fish: d&quot;</span>
h.keys           <span style="color:#777">#=&gt; [&quot;c&quot;, &quot;d&quot;]</span>
</code></pre>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      
      
      <li class="overload_item">
        <span class="signature">- (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>new</strong> {|hash, key| ... }</span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>hash</tt>, <tt>key</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


      </li>
    
  </ul>


</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/hash.c', line 310</span>

static mrb_value
mrb_hash_init(mrb_state *mrb, mrb_value hash)
{
  mrb_value block, ifnone;
  mrb_bool ifnone_p;

  ifnone = mrb_nil_value();
  mrb_get_args(mrb, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">&amp;|o?</span><span style="color:#710">&quot;</span></span>, &amp;block, &amp;ifnone, &amp;ifnone_p);
  mrb_hash_modify(mrb, hash);
  <span style="color:#080;font-weight:bold">if</span> (!mrb_nil_p(block)) {
    <span style="color:#080;font-weight:bold">if</span> (ifnone_p) {
      mrb_raise(mrb, <span style="color:#036;font-weight:bold">E_ARGUMENT_ERROR</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">wrong number of arguments</span><span style="color:#710">&quot;</span></span>);
    }
    RHASH(hash)-&gt;flags |= <span style="color:#036;font-weight:bold">MRB_HASH_PROC_DEFAULT</span>;
    ifnone = block;
  }
  mrb_iv_set(mrb, hash, mrb_intern_lit(mrb, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">ifnone</span><span style="color:#710">&quot;</span></span>), ifnone);
  <span style="color:#080;font-weight:bold">return</span> hash;
}</pre>
    </td>
  </tr>
</table>
</div>
  
</div>


  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="[]-class_method">
  
    + (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>[]</strong>(*object) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>call-seq:
    Hash[ key, value, ... ] -&gt; new_hash
    Hash[ [ [key, value], ... ] ] -&gt; new_hash
    Hash[ object ] -&gt; new_hash</p>

<p>Creates a new hash populated with the given objects.</p>

<p>Similar to the literal <code>{ _key_ =&gt; _value_, ... }</code>. In the first
form, keys and values occur in pairs, so there must be an even number of
arguments.</p>

<p>The second and third form take a single argument which is either an array
of key-value pairs or an object convertible to a hash.</p>

<pre class="code ruby"><code class="ruby"><span style="color:#036;font-weight:bold">Hash</span>[<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">a</span><span style="color:#710">&quot;</span></span>, <span style="color:#00D">100</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">b</span><span style="color:#710">&quot;</span></span>, <span style="color:#00D">200</span>] <span style="color:#777">#=&gt; {&quot;a&quot;=&gt;100, &quot;b&quot;=&gt;200}</span>
<span style="color:#036;font-weight:bold">Hash</span>[ [ [<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">a</span><span style="color:#710">&quot;</span></span>, <span style="color:#00D">100</span>], [<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">b</span><span style="color:#710">&quot;</span></span>, <span style="color:#00D">200</span>] ] ] <span style="color:#777">#=&gt; {&quot;a&quot;=&gt;100, &quot;b&quot;=&gt;200}</span>
<span style="color:#036;font-weight:bold">Hash</span>[<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">a</span><span style="color:#710">&quot;</span></span> =&gt; <span style="color:#00D">100</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">b</span><span style="color:#710">&quot;</span></span> =&gt; <span style="color:#00D">200</span>] <span style="color:#777">#=&gt; {&quot;a&quot;=&gt;100, &quot;b&quot;=&gt;200}</span>
</code></pre>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-hash-ext/mrblib/hash.rb', line 26</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#069">self</span>.<span style="color:#06B;font-weight:bold">[]</span>(*object)
  length = object.length
  <span style="color:#080;font-weight:bold">if</span> length == <span style="color:#00D">1</span>
    o = object[<span style="color:#00D">0</span>]
    <span style="color:#080;font-weight:bold">if</span> o.respond_to?(<span style="color:#A60">:to_hash</span>)
      h = <span style="color:#036;font-weight:bold">Hash</span>.new
      object[<span style="color:#00D">0</span>].to_hash.each { |k, v| h[k] = v }
      <span style="color:#080;font-weight:bold">return</span> h
    <span style="color:#080;font-weight:bold">elsif</span> o.respond_to?(<span style="color:#A60">:to_a</span>)
      h = <span style="color:#036;font-weight:bold">Hash</span>.new
      o.to_a.each <span style="color:#080;font-weight:bold">do</span> |i|
        raise <span style="color:#036;font-weight:bold">ArgumentError</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">wrong element type </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>i.class<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> (expected array)</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">unless</span> i.respond_to?(<span style="color:#A60">:to_a</span>)
        k, v = <span style="color:#069">nil</span>
        <span style="color:#080;font-weight:bold">case</span> i.size
        <span style="color:#080;font-weight:bold">when</span> <span style="color:#00D">2</span>
          k = i[<span style="color:#00D">0</span>]
          v = i[<span style="color:#00D">1</span>]
        <span style="color:#080;font-weight:bold">when</span> <span style="color:#00D">1</span>
          k = i[<span style="color:#00D">0</span>]
        <span style="color:#080;font-weight:bold">else</span>
          raise <span style="color:#036;font-weight:bold">ArgumentError</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">invalid number of elements (</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>i.size<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> for 1..2)</span><span style="color:#710">&quot;</span></span>
        <span style="color:#080;font-weight:bold">end</span>
        h[k] = v
      <span style="color:#080;font-weight:bold">end</span>
      <span style="color:#080;font-weight:bold">return</span> h
    <span style="color:#080;font-weight:bold">end</span>
  <span style="color:#080;font-weight:bold">end</span>
  <span style="color:#080;font-weight:bold">unless</span> length % <span style="color:#00D">2</span> == <span style="color:#00D">0</span>
    raise <span style="color:#036;font-weight:bold">ArgumentError</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">odd number of arguments for Hash</span><span style="color:#710">'</span></span>
  <span style="color:#080;font-weight:bold">end</span>
  h = <span style="color:#036;font-weight:bold">Hash</span>.new
  <span style="color:#00D">0</span>.step(length - <span style="color:#00D">2</span>, <span style="color:#00D">2</span>) <span style="color:#080;font-weight:bold">do</span> |i|
    h[object[i]] = object[i + <span style="color:#00D">1</span>]
  <span style="color:#080;font-weight:bold">end</span>
  h
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="try_convert-class_method">
  
    + (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>try_convert</strong>(obj) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>call-seq:
    Hash.try_convert(obj) -&gt; hash or nil</p>

<p>Try to convert <i>obj</i> into a hash, using to_hash method.
Returns converted hash or nil if <i>obj</i> cannot be converted
for any reason.</p>

<pre class="code ruby"><code class="ruby"><span style="color:#036;font-weight:bold">Hash</span>.try_convert({<span style="color:#00D">1</span>=&gt;<span style="color:#00D">2</span>})   <span style="color:#777"># =&gt; {1=&gt;2}</span>
<span style="color:#036;font-weight:bold">Hash</span>.try_convert(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">1=&gt;2</span><span style="color:#710">&quot;</span></span>)   <span style="color:#777"># =&gt; nil</span>
</code></pre>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


74
75
76
77
78
79
80</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-hash-ext/mrblib/hash.rb', line 74</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#069">self</span>.<span style="color:#06B;font-weight:bold">try_convert</span>(obj)
  <span style="color:#080;font-weight:bold">if</span> obj.respond_to?(<span style="color:#A60">:to_hash</span>)
    obj.to_hash
  <span style="color:#080;font-weight:bold">else</span>
    <span style="color:#069">nil</span>
  <span style="color:#080;font-weight:bold">end</span>
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="<-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>&lt;</strong>(hash) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>call-seq:
   hash &lt; other -&gt; true or false</p>

<p>Returns <code>true</code> if <i>hash</i> is subset of
 <i>other</i>.</p>

<pre class="code ruby"><code class="ruby">h1 = {<span style="color:#606">a</span>:<span style="color:#00D">1</span>, <span style="color:#606">b</span>:<span style="color:#00D">2</span>}
h2 = {<span style="color:#606">a</span>:<span style="color:#00D">1</span>, <span style="color:#606">b</span>:<span style="color:#00D">2</span>, <span style="color:#606">c</span>:<span style="color:#00D">3</span>}
h1 &lt; h2    <span style="color:#777">#=&gt; true</span>
h2 &lt; h1    <span style="color:#777">#=&gt; false</span>
h1 &lt; h1    <span style="color:#777">#=&gt; false</span>
</code></pre>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


286
287
288
289
290
291
292
293
294
295</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-hash-ext/mrblib/hash.rb', line 286</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">&lt;</span>(hash)
  <span style="color:#080;font-weight:bold">begin</span>
    hash = hash.to_hash
  <span style="color:#080;font-weight:bold">rescue</span> <span style="color:#036;font-weight:bold">NoMethodError</span>
    raise <span style="color:#036;font-weight:bold">TypeError</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">can't convert </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>hash.class<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> to Hash</span><span style="color:#710">&quot;</span></span>
  <span style="color:#080;font-weight:bold">end</span>
  size &lt; hash.size <span style="color:#080;font-weight:bold">and</span> all? {|key, val|
    hash.key?(key) <span style="color:#080;font-weight:bold">and</span> hash[key] == val
  }
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="<=-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>&lt;=</strong>(hash) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>call-seq:
   hash &lt;= other -&gt; true or false</p>

<p>Returns <code>true</code> if <i>hash</i> is subset of
 <i>other</i> or equals to <i>other</i>.</p>

<pre class="code ruby"><code class="ruby">h1 = {<span style="color:#606">a</span>:<span style="color:#00D">1</span>, <span style="color:#606">b</span>:<span style="color:#00D">2</span>}
h2 = {<span style="color:#606">a</span>:<span style="color:#00D">1</span>, <span style="color:#606">b</span>:<span style="color:#00D">2</span>, <span style="color:#606">c</span>:<span style="color:#00D">3</span>}
h1 &lt;= h2   <span style="color:#777">#=&gt; true</span>
h2 &lt;= h1   <span style="color:#777">#=&gt; false</span>
h1 &lt;= h1   <span style="color:#777">#=&gt; true</span>
</code></pre>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


310
311
312
313
314
315
316
317
318
319</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-hash-ext/mrblib/hash.rb', line 310</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">&lt;=</span>(hash)
  <span style="color:#080;font-weight:bold">begin</span>
    hash = hash.to_hash
  <span style="color:#080;font-weight:bold">rescue</span> <span style="color:#036;font-weight:bold">NoMethodError</span>
    raise <span style="color:#036;font-weight:bold">TypeError</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">can't convert </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>hash.class<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> to Hash</span><span style="color:#710">&quot;</span></span>
  <span style="color:#080;font-weight:bold">end</span>
  size &lt;= hash.size <span style="color:#080;font-weight:bold">and</span> all? {|key, val|
    hash.key?(key) <span style="color:#080;font-weight:bold">and</span> hash[key] == val
  }
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="==-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>==</strong>(hash) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Equality---Two hashes are equal if they each contain the same number
 of keys and if each key-value pair is equal to (according to
 <code>Object#==</code>) the corresponding elements in the other
 hash.</p>

<p>ISO 15.2.13.4.1</p>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


13
14
15
16
17
18
19
20
21
22
23
24
25
26</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrblib/hash.rb', line 13</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">==</span>(hash)
  <span style="color:#080;font-weight:bold">return</span> <span style="color:#069">true</span> <span style="color:#080;font-weight:bold">if</span> <span style="color:#069">self</span>.equal?(hash)
  <span style="color:#080;font-weight:bold">begin</span>
    hash = hash.to_hash
  <span style="color:#080;font-weight:bold">rescue</span> <span style="color:#036;font-weight:bold">NoMethodError</span>
    <span style="color:#080;font-weight:bold">return</span> <span style="color:#069">false</span>
  <span style="color:#080;font-weight:bold">end</span>
  <span style="color:#080;font-weight:bold">return</span> <span style="color:#069">false</span> <span style="color:#080;font-weight:bold">if</span> <span style="color:#069">self</span>.size != hash.size
  <span style="color:#069">self</span>.each <span style="color:#080;font-weight:bold">do</span> |k,v|
    <span style="color:#080;font-weight:bold">return</span> <span style="color:#069">false</span> <span style="color:#080;font-weight:bold">unless</span> hash.key?(k)
    <span style="color:#080;font-weight:bold">return</span> <span style="color:#069">false</span> <span style="color:#080;font-weight:bold">unless</span> <span style="color:#069">self</span>[k] == hash[k]
  <span style="color:#080;font-weight:bold">end</span>
  <span style="color:#080;font-weight:bold">return</span> <span style="color:#069">true</span>
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id=">-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>&gt;</strong>(hash) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>call-seq:
   hash &gt; other -&gt; true or false</p>

<p>Returns <code>true</code> if <i>other</i> is subset of
 <i>hash</i>.</p>

<pre class="code ruby"><code class="ruby">h1 = {<span style="color:#606">a</span>:<span style="color:#00D">1</span>, <span style="color:#606">b</span>:<span style="color:#00D">2</span>}
h2 = {<span style="color:#606">a</span>:<span style="color:#00D">1</span>, <span style="color:#606">b</span>:<span style="color:#00D">2</span>, <span style="color:#606">c</span>:<span style="color:#00D">3</span>}
h1 &gt; h2    <span style="color:#777">#=&gt; false</span>
h2 &gt; h1    <span style="color:#777">#=&gt; true</span>
h1 &gt; h1    <span style="color:#777">#=&gt; false</span>
</code></pre>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


334
335
336
337
338
339
340
341
342
343</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-hash-ext/mrblib/hash.rb', line 334</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">&gt;</span>(hash)
  <span style="color:#080;font-weight:bold">begin</span>
    hash = hash.to_hash
  <span style="color:#080;font-weight:bold">rescue</span> <span style="color:#036;font-weight:bold">NoMethodError</span>
    raise <span style="color:#036;font-weight:bold">TypeError</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">can't convert </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>hash.class<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> to Hash</span><span style="color:#710">&quot;</span></span>
  <span style="color:#080;font-weight:bold">end</span>
  size &gt; hash.size <span style="color:#080;font-weight:bold">and</span> hash.all? {|key, val|
    key?(key) <span style="color:#080;font-weight:bold">and</span> <span style="color:#069">self</span>[key] == val
  }
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id=">=-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>&gt;=</strong>(hash) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>call-seq:
   hash &gt;= other -&gt; true or false</p>

<p>Returns <code>true</code> if <i>other</i> is subset of
 <i>hash</i> or equals to <i>hash</i>.</p>

<pre class="code ruby"><code class="ruby">h1 = {<span style="color:#606">a</span>:<span style="color:#00D">1</span>, <span style="color:#606">b</span>:<span style="color:#00D">2</span>}
h2 = {<span style="color:#606">a</span>:<span style="color:#00D">1</span>, <span style="color:#606">b</span>:<span style="color:#00D">2</span>, <span style="color:#606">c</span>:<span style="color:#00D">3</span>}
h1 &gt;= h2   <span style="color:#777">#=&gt; false</span>
h2 &gt;= h1   <span style="color:#777">#=&gt; true</span>
h1 &gt;= h1   <span style="color:#777">#=&gt; true</span>
</code></pre>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


358
359
360
361
362
363
364
365
366
367</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-hash-ext/mrblib/hash.rb', line 358</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">&gt;=</span>(hash)
  <span style="color:#080;font-weight:bold">begin</span>
    hash = hash.to_hash
  <span style="color:#080;font-weight:bold">rescue</span> <span style="color:#036;font-weight:bold">NoMethodError</span>
    raise <span style="color:#036;font-weight:bold">TypeError</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">can't convert </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>hash.class<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> to Hash</span><span style="color:#710">&quot;</span></span>
  <span style="color:#080;font-weight:bold">end</span>
  size &gt;= hash.size <span style="color:#080;font-weight:bold">and</span> hash.all? {|key, val|
    key?(key) <span style="color:#080;font-weight:bold">and</span> <span style="color:#069">self</span>[key] == val
  }
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="[]-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>[]</strong>(key) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Element Reference---Retrieves the <i>value</i> object corresponding
to the <i>key</i> object. If not found, returns the default value (see
<code>Hash::new</code> for details).</p>

<p>h = { &quot;a&quot; =&gt; 100, &quot;b&quot; =&gt; 200 }
   h[&quot;a&quot;]   #=&gt; 100
   h[&quot;c&quot;]   #=&gt; nil</p>


  </div>
</div>
<div class="tags">
  
  


</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


344
345
346
347
348
349
350
351</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/hash.c', line 344</span>

static mrb_value
mrb_hash_aget(mrb_state *mrb, mrb_value <span style="color:#069">self</span>)
{
  mrb_value key;

  mrb_get_args(mrb, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">o</span><span style="color:#710">&quot;</span></span>, &amp;key);
  <span style="color:#080;font-weight:bold">return</span> mrb_hash_get(mrb, <span style="color:#069">self</span>, key);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="[]=-instance_method">
  
    
      <span class="overload">- (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>[]=</strong>(key) </span>
    
      <span class="overload">- (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>store</strong>(key, value) </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Element Assignment---Associates the value given by
<i>value</i> with the key given by <i>key</i>.
<i>key</i> should not have its value changed while it is in
use as a key (a <code>String</code> passed as a key will be
duplicated and frozen).</p>

<pre class="code"><code class="">h = { <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">a</span><span style="color:#710">&quot;</span></span> =&gt; <span style="color:#00D">100</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">b</span><span style="color:#710">&quot;</span></span> =&gt; <span style="color:#00D">200</span> }
h[<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">a</span><span style="color:#710">&quot;</span></span>] = <span style="color:#00D">9</span>
h[<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">c</span><span style="color:#710">&quot;</span></span>] = <span style="color:#00D">4</span>
h   <span style="color:#777">#=&gt; {&quot;a&quot;=&gt;9, &quot;b&quot;=&gt;200, &quot;c&quot;=&gt;4}</span>
</code></pre>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


612
613
614
615
616
617
618
619
620</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/hash.c', line 612</span>

static mrb_value
mrb_hash_aset(mrb_state *mrb, mrb_value <span style="color:#069">self</span>)
{
  mrb_value key, val;

  mrb_get_args(mrb, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">oo</span><span style="color:#710">&quot;</span></span>, &amp;key, &amp;val);
  mrb_hash_set(mrb, <span style="color:#069">self</span>, key, val);
  <span style="color:#080;font-weight:bold">return</span> val;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="__delete-instance_method">
  
    
      <span class="overload">- (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>delete</strong>(key) </span>
    
      <span class="overload">- (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>delete</strong>(key) {|key| ... }</span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Deletes and returns a key-value pair from <i>hsh</i> whose key is
equal to <i>key</i>. If the key is not found, returns the
<em>default value</em>. If the optional code block is given and the
key is not found, pass in the key and return the result of
<i>block</i>.</p>

<pre class="code"><code class="">h = { <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">a</span><span style="color:#710">&quot;</span></span> =&gt; <span style="color:#00D">100</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">b</span><span style="color:#710">&quot;</span></span> =&gt; <span style="color:#00D">200</span> }
h.delete(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">a</span><span style="color:#710">&quot;</span></span>)                              <span style="color:#777">#=&gt; 100</span>
h.delete(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">z</span><span style="color:#710">&quot;</span></span>)                              <span style="color:#777">#=&gt; nil</span>
h.delete(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">z</span><span style="color:#710">&quot;</span></span>) { |el| <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>el<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> not found</span><span style="color:#710">&quot;</span></span> }   <span style="color:#777">#=&gt; &quot;z not found&quot;</span>
</code></pre>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      
      <li class="overload_item">
        <span class="signature">- (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>delete</strong>(key) {|key| ... }</span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>key</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


      </li>
    
  </ul>


</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


520
521
522
523
524
525
526
527</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/hash.c', line 520</span>

static mrb_value
mrb_hash_delete(mrb_state *mrb, mrb_value <span style="color:#069">self</span>)
{
  mrb_value key;

  mrb_get_args(mrb, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">o</span><span style="color:#710">&quot;</span></span>, &amp;key);
  <span style="color:#080;font-weight:bold">return</span> mrb_hash_delete_key(mrb, <span style="color:#069">self</span>, key);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="__update-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>__update</strong>(h) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


345
346
347
348</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrblib/hash.rb', line 345</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">__update</span>(h)
  h.each_key{|k| <span style="color:#069">self</span>[k] = h[k]}
  <span style="color:#069">self</span>
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="_inspect-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>_inspect</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>internal method for Hash inspection</p>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


196
197
198
199
200
201</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrblib/hash.rb', line 196</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">_inspect</span>
  <span style="color:#080;font-weight:bold">return</span> <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">{}</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">if</span> <span style="color:#069">self</span>.size == <span style="color:#00D">0</span>
  <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">{</span><span style="color:#710">&quot;</span></span>+<span style="color:#069">self</span>.map {|k,v|
    k._inspect + <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">=&gt;</span><span style="color:#710">&quot;</span></span> + v._inspect
  }.join(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">, </span><span style="color:#710">&quot;</span></span>)+<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">}</span><span style="color:#710">&quot;</span></span>
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="clear-instance_method">
  
    - (<tt><span class='object_link'><a href="" title="Hash (class)">Hash</a></span></tt>) <strong>clear</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Removes all key-value pairs from <code>hsh</code>.</p>

<pre class="code"><code class="">h = { <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">a</span><span style="color:#710">&quot;</span></span> =&gt; <span style="color:#00D">100</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">b</span><span style="color:#710">&quot;</span></span> =&gt; <span style="color:#00D">200</span> }   <span style="color:#777">#=&gt; {&quot;a&quot;=&gt;100, &quot;b&quot;=&gt;200}</span>
h.clear                          <span style="color:#777">#=&gt; {}</span>
</code></pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="Hash (class)">Hash</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>




</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


584
585
586
587
588
589
590
591</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/hash.c', line 584</span>

<span style="color:#036;font-weight:bold">MRB_API</span> mrb_value
mrb_hash_clear(mrb_state *mrb, mrb_value hash)
{
  khash_t(ht) *h = RHASH_TBL(hash);

  <span style="color:#080;font-weight:bold">if</span> (h) kh_clear(ht, mrb, h);
  <span style="color:#080;font-weight:bold">return</span> hash;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="default-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>default</strong>(key = nil) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns the default value, the value that would be returned by
<i>hsh</i>[<i>key</i>] if <i>key</i> did not exist in <i>hsh</i>.
See also <code>Hash::new</code> and <code>Hash#default=</code>.</p>

<p>h = Hash.new                            #=&gt; {}
   h.default                               #=&gt; nil
   h.default(2)                            #=&gt; nil</p>

<p>h = Hash.new(&quot;cat&quot;)                     #=&gt; {}
   h.default                               #=&gt; &quot;cat&quot;
   h.default(2)                            #=&gt; &quot;cat&quot;</p>

<p>h = Hash.new {|h,k| h[k] = k.to_i*10}   #=&gt; {}
   h.default                               #=&gt; nil
   h.default(2)                            #=&gt; 20</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>




</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


375
376
377
378
379
380
381
382
383
384
385
386
387
388
389</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/hash.c', line 375</span>

static mrb_value
mrb_hash_default(mrb_state *mrb, mrb_value hash)
{
  mrb_value key;
  mrb_bool given;

  mrb_get_args(mrb, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">|o?</span><span style="color:#710">&quot;</span></span>, &amp;key, &amp;given);
  <span style="color:#080;font-weight:bold">if</span> (MRB_RHASH_PROCDEFAULT_P(hash)) {
    <span style="color:#080;font-weight:bold">if</span> (!given) <span style="color:#080;font-weight:bold">return</span> mrb_nil_value();
    <span style="color:#080;font-weight:bold">return</span> mrb_funcall(mrb, RHASH_PROCDEFAULT(hash), <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">call</span><span style="color:#710">&quot;</span></span>, <span style="color:#00D">2</span>, hash, key);
  }
  <span style="color:#080;font-weight:bold">else</span> {
    <span style="color:#080;font-weight:bold">return</span> RHASH_IFNONE(hash);
  }
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="default=-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>default=</strong>(obj) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Sets the default value, the value returned for a key that does not
exist in the hash. It is not possible to set the default to a
<code>Proc</code> that will be executed on each key lookup.</p>

<p>h = { &quot;a&quot; =&gt; 100, &quot;b&quot; =&gt; 200 }
   h.default = &quot;Go fish&quot;
   h[&quot;a&quot;]     #=&gt; 100
   h[&quot;z&quot;]     #=&gt; &quot;Go fish&quot;
   # This doesn&#39;t do what you might hope...
   h.default = proc do |hash, key|
     hash[key] = key + key
   end
   h[2]       #=&gt; #<a href="Proc:0x401b3948@-:6">Proc:0x401b3948@-:6</a>
   h[&quot;cat&quot;]   #=&gt; #<a href="Proc:0x401b3948@-:6">Proc:0x401b3948@-:6</a></p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>




</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


412
413
414
415
416
417
418
419
420
421
422
423</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/hash.c', line 412</span>

static mrb_value
mrb_hash_set_default(mrb_state *mrb, mrb_value hash)
{
  mrb_value ifnone;

  mrb_get_args(mrb, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">o</span><span style="color:#710">&quot;</span></span>, &amp;ifnone);
  mrb_hash_modify(mrb, hash);
  mrb_iv_set(mrb, hash, mrb_intern_lit(mrb, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">ifnone</span><span style="color:#710">&quot;</span></span>), ifnone);
  RHASH(hash)-&gt;flags &amp;= ~(<span style="color:#036;font-weight:bold">MRB_HASH_PROC_DEFAULT</span>);

  <span style="color:#080;font-weight:bold">return</span> ifnone;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="default_proc-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>default_proc</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>If <code>Hash::new</code> was invoked with a block, return that
block, otherwise return <code>nil</code>.</p>

<p>h = Hash.new {|h,k| h[k] = k*k }   #=&gt; {}
   p = h.default_proc                 #=&gt; #<a href="Proc:0x401b3d08@-:1">Proc:0x401b3d08@-:1</a>
   a = []                             #=&gt; []
   p.call(a, 2)
   a                                  #=&gt; [nil, nil, 4]</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>




</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


441
442
443
444
445
446
447
448</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/hash.c', line 441</span>

static mrb_value
mrb_hash_default_proc(mrb_state *mrb, mrb_value hash)
{
  <span style="color:#080;font-weight:bold">if</span> (MRB_RHASH_PROCDEFAULT_P(hash)) {
    <span style="color:#080;font-weight:bold">return</span> RHASH_PROCDEFAULT(hash);
  }
  <span style="color:#080;font-weight:bold">return</span> mrb_nil_value();
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="default_proc=-instance_method">
  
    - (<tt><span class='object_link'><a href="Proc.html" title="Proc (class)">Proc</a></span></tt>) <strong>default_proc=</strong>(proc_obj) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Sets the default proc to be executed on each key lookup.</p>

<p>h.default_proc = proc do |hash, key|
     hash[key] = key + key
   end
   h[2]       #=&gt; 4
   h[&quot;cat&quot;]   #=&gt; &quot;catcat&quot;</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Proc.html" title="Proc (class)">Proc</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>




</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


463
464
465
466
467
468
469
470
471
472
473
474</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/hash.c', line 463</span>

static mrb_value
mrb_hash_set_default_proc(mrb_state *mrb, mrb_value hash)
{
  mrb_value ifnone;

  mrb_get_args(mrb, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">o</span><span style="color:#710">&quot;</span></span>, &amp;ifnone);
  mrb_hash_modify(mrb, hash);
  mrb_iv_set(mrb, hash, mrb_intern_lit(mrb, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">ifnone</span><span style="color:#710">&quot;</span></span>), ifnone);
  RHASH(hash)-&gt;flags |= <span style="color:#036;font-weight:bold">MRB_HASH_PROC_DEFAULT</span>;

  <span style="color:#080;font-weight:bold">return</span> ifnone;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="delete-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>delete</strong>(key, &amp;block) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Delete the element with the key +key+.
Return the value of the element if +key+
was found. Return nil if nothing was
found. If a block is given, call the
block with the value of the element.</p>

<p>ISO 15.2.13.4.8</p>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


56
57
58
59
60
61
62</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrblib/hash.rb', line 56</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">delete</span>(key, &amp;block)
  <span style="color:#080;font-weight:bold">if</span> block &amp;&amp; !<span style="color:#069">self</span>.has_key?(key)
    block.call(key)
  <span style="color:#080;font-weight:bold">else</span>
    <span style="color:#069">self</span>.__delete(key)
  <span style="color:#080;font-weight:bold">end</span>
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="delete_if-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>delete_if</strong>(&amp;block) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>call-seq:
    hsh.delete_if {| key, value | block }  -&gt; hsh
    hsh.delete_if                          -&gt; an_enumerator</p>

<p>Deletes every key-value pair from <i>hsh</i> for which <i>block</i>
 evaluates to <code>true</code>.</p>

<p>If no block is given, an enumerator is returned instead.</p>

<pre class="code ruby"><code class="ruby">h = { <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">a</span><span style="color:#710">&quot;</span></span> =&gt; <span style="color:#00D">100</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">b</span><span style="color:#710">&quot;</span></span> =&gt; <span style="color:#00D">200</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">c</span><span style="color:#710">&quot;</span></span> =&gt; <span style="color:#00D">300</span> }
h.delete_if {|key, value| key &gt;= <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">b</span><span style="color:#710">&quot;</span></span> }   <span style="color:#777">#=&gt; {&quot;a&quot;=&gt;100}</span>
</code></pre>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


173
174
175
176
177
178
179
180</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-hash-ext/mrblib/hash.rb', line 173</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">delete_if</span>(&amp;block)
  <span style="color:#080;font-weight:bold">return</span> to_enum <span style="color:#A60">:delete_if</span> <span style="color:#080;font-weight:bold">unless</span> block_given?

  <span style="color:#069">self</span>.each <span style="color:#080;font-weight:bold">do</span> |k, v|
    <span style="color:#069">self</span>.delete(k) <span style="color:#080;font-weight:bold">if</span> block.call(k, v)
  <span style="color:#080;font-weight:bold">end</span>
  <span style="color:#069">self</span>
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="dup-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>dup</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>15.2.13.4.24</p>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/hash.c', line 224</span>

static mrb_value
mrb_hash_dup(mrb_state *mrb, mrb_value hash)
{
  struct <span style="color:#036;font-weight:bold">RHash</span>* ret;
  khash_t(ht) *h, *ret_h;
  khiter_t k, ret_k;

  h = RHASH_TBL(hash);
  ret = (struct <span style="color:#036;font-weight:bold">RHash</span>*)mrb_obj_alloc(mrb, <span style="color:#036;font-weight:bold">MRB_TT_HASH</span>, mrb-&gt;hash_class);
  ret-&gt;ht = kh_init(ht, mrb);

  <span style="color:#080;font-weight:bold">if</span> (kh_size(h) &gt; <span style="color:#00D">0</span>) {
    ret_h = ret-&gt;ht;

    <span style="color:#080;font-weight:bold">for</span> (k = kh_begin(h); k != kh_end(h); k++) {
      <span style="color:#080;font-weight:bold">if</span> (kh_exist(h, k)) {
        int ai = mrb_gc_arena_save(mrb);
        ret_k = kh_put(ht, mrb, ret_h, KEY(kh_key(h, k)));
        mrb_gc_arena_restore(mrb, ai);
        kh_val(ret_h, ret_k) = kh_val(h, k);
      }
    }
  }

  <span style="color:#080;font-weight:bold">return</span> mrb_obj_value(ret);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="each-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>each</strong>(&amp;block) 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='each_pair-instance_method'>each_pair</span></span>
    </span>
  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Calls the given block for each element of +self+
and pass the key and value of each element.</p>

<p>call-seq:
  hsh.each      {| key, value | block } -&gt; hsh
  hsh.each_pair {| key, value | block } -&gt; hsh
  hsh.each                              -&gt; an_enumerator
  hsh.each_pair                         -&gt; an_enumerator</p>

<p>If no block is given, an enumerator is returned instead.</p>

<pre class="code ruby"><code class="ruby">h = { <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">a</span><span style="color:#710">&quot;</span></span> =&gt; <span style="color:#00D">100</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">b</span><span style="color:#710">&quot;</span></span> =&gt; <span style="color:#00D">200</span> }
h.each {|key, value| puts <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>key<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> is </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>value<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span> }
</code></pre>

<p><em>produces:</em></p>

<p>a is 100
b is 200</p>

<p>ISO 15.2.13.4.9</p>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


86
87
88
89
90
91
92
93
94
95
96
97
98</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrblib/hash.rb', line 86</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">each</span>(&amp;block)
  <span style="color:#080;font-weight:bold">return</span> to_enum <span style="color:#A60">:each</span> <span style="color:#080;font-weight:bold">unless</span> block_given?

  keys = <span style="color:#069">self</span>.keys
  vals = <span style="color:#069">self</span>.values
  len = <span style="color:#069">self</span>.size
  i = <span style="color:#00D">0</span>
  <span style="color:#080;font-weight:bold">while</span> i &lt; len
    block.call [keys[i], vals[i]]
    i += <span style="color:#00D">1</span>
  <span style="color:#080;font-weight:bold">end</span>
  <span style="color:#069">self</span>
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="each_key-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>each_key</strong>(&amp;block) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Calls the given block for each element of +self+
and pass the key of each element.</p>

<p>call-seq:
  hsh.each_key {| key | block } -&gt; hsh
  hsh.each_key                  -&gt; an_enumerator</p>

<p>If no block is given, an enumerator is returned instead.</p>

<p>h = { &quot;a&quot; =&gt; 100, &quot;b&quot; =&gt; 200 }
  h.each_key {|key| puts key }</p>

<p><em>produces:</em></p>

<p>a
 b</p>

<p>ISO 15.2.13.4.10</p>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


119
120
121
122
123
124</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrblib/hash.rb', line 119</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">each_key</span>(&amp;block)
  <span style="color:#080;font-weight:bold">return</span> to_enum <span style="color:#A60">:each_key</span> <span style="color:#080;font-weight:bold">unless</span> block_given?

  <span style="color:#069">self</span>.keys.each{|k| block.call(k)}
  <span style="color:#069">self</span>
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="each_value-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>each_value</strong>(&amp;block) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Calls the given block for each element of +self+
and pass the value of each element.</p>

<p>call-seq:
  hsh.each_value {| value | block } -&gt; hsh
  hsh.each_value                    -&gt; an_enumerator</p>

<p>If no block is given, an enumerator is returned instead.</p>

<p>h = { &quot;a&quot; =&gt; 100, &quot;b&quot; =&gt; 200 }
 h.each_value {|value| puts value }</p>

<p><em>produces:</em></p>

<p>100
 200</p>

<p>ISO 15.2.13.4.11</p>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


145
146
147
148
149
150</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrblib/hash.rb', line 145</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">each_value</span>(&amp;block)
  <span style="color:#080;font-weight:bold">return</span> to_enum <span style="color:#A60">:each_value</span> <span style="color:#080;font-weight:bold">unless</span> block_given?

  <span style="color:#069">self</span>.keys.each{|k| block.call(<span style="color:#069">self</span>[k])}
  <span style="color:#069">self</span>
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="empty?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>empty?</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns <code>true</code> if <i>hsh</i> contains no key-value pairs.</p>

<p>{}.empty?   #=&gt; true</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>



<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


655
656
657
658
659
660
661
662</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/hash.c', line 655</span>

<span style="color:#036;font-weight:bold">MRB_API</span> mrb_value
mrb_hash_empty_p(mrb_state *mrb, mrb_value <span style="color:#069">self</span>)
{
  khash_t(ht) *h = RHASH_TBL(<span style="color:#069">self</span>);

  <span style="color:#080;font-weight:bold">if</span> (h) <span style="color:#080;font-weight:bold">return</span> mrb_bool_value(kh_size(h) == <span style="color:#00D">0</span>);
  <span style="color:#080;font-weight:bold">return</span> mrb_true_value();
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="eql?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>eql?</strong>(hash) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns <code>true</code> if <i>hash</i> and <i>other</i> are
both hashes with the same content compared by eql?.</p>

<p>ISO 15.2.13.4.32 (x)</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


33
34
35
36
37
38
39
40
41
42
43
44
45
46</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrblib/hash.rb', line 33</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">eql?</span>(hash)
  <span style="color:#080;font-weight:bold">return</span> <span style="color:#069">true</span> <span style="color:#080;font-weight:bold">if</span> <span style="color:#069">self</span>.equal?(hash)
  <span style="color:#080;font-weight:bold">begin</span>
    hash = hash.to_hash
  <span style="color:#080;font-weight:bold">rescue</span> <span style="color:#036;font-weight:bold">NoMethodError</span>
    <span style="color:#080;font-weight:bold">return</span> <span style="color:#069">false</span>
  <span style="color:#080;font-weight:bold">end</span>
  <span style="color:#080;font-weight:bold">return</span> <span style="color:#069">false</span> <span style="color:#080;font-weight:bold">if</span> <span style="color:#069">self</span>.size != hash.size
  <span style="color:#069">self</span>.each <span style="color:#080;font-weight:bold">do</span> |k,v|
    <span style="color:#080;font-weight:bold">return</span> <span style="color:#069">false</span> <span style="color:#080;font-weight:bold">unless</span> hash.key?(k)
    <span style="color:#080;font-weight:bold">return</span> <span style="color:#069">false</span> <span style="color:#080;font-weight:bold">unless</span> <span style="color:#069">self</span>[k].eql?(hash[k])
  <span style="color:#080;font-weight:bold">end</span>
  <span style="color:#080;font-weight:bold">return</span> <span style="color:#069">true</span>
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="fetch-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>fetch</strong>(key, none = NONE, &amp;block) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>call-seq:
    hsh.fetch(key [, default] )       -&gt; obj
    hsh.fetch(key) {| key | block }   -&gt; obj</p>

<p>Returns a value from the hash for the given key. If the key can&#39;t be
 found, there are several options: With no other arguments, it will
 raise an <code>KeyError</code> exception; if <i>default</i> is
 given, then that will be returned; if the optional code block is
 specified, then that will be run and its result returned.</p>

<pre class="code ruby"><code class="ruby">h = { <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">a</span><span style="color:#710">&quot;</span></span> =&gt; <span style="color:#00D">100</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">b</span><span style="color:#710">&quot;</span></span> =&gt; <span style="color:#00D">200</span> }
h.fetch(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">a</span><span style="color:#710">&quot;</span></span>)                            <span style="color:#777">#=&gt; 100</span>
h.fetch(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">z</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">go fish</span><span style="color:#710">&quot;</span></span>)                 <span style="color:#777">#=&gt; &quot;go fish&quot;</span>
h.fetch(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">z</span><span style="color:#710">&quot;</span></span>) { |el| <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">go fish, </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>el<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span>}   <span style="color:#777">#=&gt; &quot;go fish, z&quot;</span>
</code></pre>

<p>The following example shows that an exception is raised if the key
 is not found and a default value is not supplied.</p>

<pre class="code ruby"><code class="ruby">h = { <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">a</span><span style="color:#710">&quot;</span></span> =&gt; <span style="color:#00D">100</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">b</span><span style="color:#710">&quot;</span></span> =&gt; <span style="color:#00D">200</span> }
h.fetch(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">z</span><span style="color:#710">&quot;</span></span>)
</code></pre>

<p><em>produces:</em></p>

<pre class="code ruby"><code class="ruby">prog.rb:<span style="color:#00D">2</span><span style="color:#A60">:in</span> <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">fetch</span><span style="color:#710">'</span></span>: key <span style="color:#080;font-weight:bold">not</span> found (<span style="color:#036;font-weight:bold">KeyError</span>)
 from prog.rb:<span style="color:#00D">2</span>
</code></pre>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


145
146
147
148
149
150
151
152
153
154
155
156
157</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-hash-ext/mrblib/hash.rb', line 145</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">fetch</span>(key, none=<span style="color:#036;font-weight:bold">NONE</span>, &amp;block)
  <span style="color:#080;font-weight:bold">unless</span> <span style="color:#069">self</span>.key?(key)
    <span style="color:#080;font-weight:bold">if</span> block
      block.call(key)
    <span style="color:#080;font-weight:bold">elsif</span> none != <span style="color:#036;font-weight:bold">NONE</span>
      none
    <span style="color:#080;font-weight:bold">else</span>
      raise <span style="color:#036;font-weight:bold">KeyError</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Key not found: </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>key<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span>
    <span style="color:#080;font-weight:bold">end</span>
  <span style="color:#080;font-weight:bold">else</span>
    <span style="color:#069">self</span>[key]
  <span style="color:#080;font-weight:bold">end</span>
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="flatten-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>flatten</strong>(level = 1) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>call-seq:
    hash.flatten -&gt; an_array
    hash.flatten(level) -&gt; an_array</p>

<p>Returns a new array that is a one-dimensional flattening of this
 hash. That is, for every key or value that is an array, extract
 its elements into the new array.  Unlike Array#flatten, this
 method does not flatten recursively by default.  The optional
 <i>level</i> argument determines the level of recursion to flatten.</p>

<pre class="code ruby"><code class="ruby">a =  {<span style="color:#00D">1</span>=&gt; <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">one</span><span style="color:#710">&quot;</span></span>, <span style="color:#00D">2</span> =&gt; [<span style="color:#00D">2</span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">two</span><span style="color:#710">&quot;</span></span>], <span style="color:#00D">3</span> =&gt; <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">three</span><span style="color:#710">&quot;</span></span>}
a.flatten    <span style="color:#777"># =&gt; [1, &quot;one&quot;, 2, [2, &quot;two&quot;], 3, &quot;three&quot;]</span>
a.flatten(<span style="color:#00D">2</span>) <span style="color:#777"># =&gt; [1, &quot;one&quot;, 2, 2, &quot;two&quot;, 3, &quot;three&quot;]</span>
</code></pre>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


198
199
200</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-hash-ext/mrblib/hash.rb', line 198</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">flatten</span>(level=<span style="color:#00D">1</span>)
  <span style="color:#069">self</span>.to_a.flatten(level)
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="has_key?-instance_method">
  
    
      <span class="overload">- (<tt>Boolean</tt>) <strong>has_key?</strong>(key) </span>
    
      <span class="overload">- (<tt>Boolean</tt>) <strong>include?</strong>(key) </span>
    
      <span class="overload">- (<tt>Boolean</tt>) <strong>key?</strong>(key) </span>
    
      <span class="overload">- (<tt>Boolean</tt>) <strong>member?</strong>(key) </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns <code>true</code> if the given key is present in <i>hsh</i>.</p>

<p>h = { &quot;a&quot; =&gt; 100, &quot;b&quot; =&gt; 200 }
   h.has_key?(&quot;a&quot;)   #=&gt; true
   h.has_key?(&quot;z&quot;)   #=&gt; false</p>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">- (<tt>Boolean</tt>) <strong>has_key?</strong>(key) </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


      </li>
    
      
      <li class="overload_item">
        <span class="signature">- (<tt>Boolean</tt>) <strong>include?</strong>(key) </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


      </li>
    
      
      <li class="overload_item">
        <span class="signature">- (<tt>Boolean</tt>) <strong>key?</strong>(key) </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


      </li>
    
      
      <li class="overload_item">
        <span class="signature">- (<tt>Boolean</tt>) <strong>member?</strong>(key) </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


      </li>
    
  </ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


765
766
767
768
769
770
771
772
773
774
775
776
777
778
779
780</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/hash.c', line 765</span>

static mrb_value
mrb_hash_has_key(mrb_state *mrb, mrb_value hash)
{
  mrb_value key;
  khash_t(ht) *h;
  khiter_t k;

  mrb_get_args(mrb, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">o</span><span style="color:#710">&quot;</span></span>, &amp;key);

  h = RHASH_TBL(hash);
  <span style="color:#080;font-weight:bold">if</span> (h) {
    k = kh_get(ht, mrb, h, key);
    <span style="color:#080;font-weight:bold">return</span> mrb_bool_value(k != kh_end(h));
  }
  <span style="color:#080;font-weight:bold">return</span> mrb_false_value();
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="has_value?-instance_method">
  
    
      <span class="overload">- (<tt>Boolean</tt>) <strong>has_value?</strong>(value) </span>
    
      <span class="overload">- (<tt>Boolean</tt>) <strong>value?</strong>(value) </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns <code>true</code> if the given value is present for some key
in <i>hsh</i>.</p>

<p>h = { &quot;a&quot; =&gt; 100, &quot;b&quot; =&gt; 200 }
   h.has_value?(100)   #=&gt; true
   h.has_value?(999)   #=&gt; false</p>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">- (<tt>Boolean</tt>) <strong>has_value?</strong>(value) </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


      </li>
    
      
      <li class="overload_item">
        <span class="signature">- (<tt>Boolean</tt>) <strong>value?</strong>(value) </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


      </li>
    
  </ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


797
798
799
800
801
802
803
804
805
806
807
808
809
810
811
812
813
814
815
816
817</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/hash.c', line 797</span>

static mrb_value
mrb_hash_has_value(mrb_state *mrb, mrb_value hash)
{
  mrb_value val;
  khash_t(ht) *h;
  khiter_t k;

  mrb_get_args(mrb, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">o</span><span style="color:#710">&quot;</span></span>, &amp;val);
  h = RHASH_TBL(hash);

  <span style="color:#080;font-weight:bold">if</span> (h) {
    <span style="color:#080;font-weight:bold">for</span> (k = kh_begin(h); k != kh_end(h); k++) {
      <span style="color:#080;font-weight:bold">if</span> (!kh_exist(h, k)) continue;

      <span style="color:#080;font-weight:bold">if</span> (mrb_equal(mrb, kh_value(h, k).v, val)) {
        <span style="color:#080;font-weight:bold">return</span> mrb_true_value();
      }
    }
  }
  <span style="color:#080;font-weight:bold">return</span> mrb_false_value();
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="include?-instance_method">
  
    
      <span class="overload">- (<tt>Boolean</tt>) <strong>has_key?</strong>(key) </span>
    
      <span class="overload">- (<tt>Boolean</tt>) <strong>include?</strong>(key) </span>
    
      <span class="overload">- (<tt>Boolean</tt>) <strong>key?</strong>(key) </span>
    
      <span class="overload">- (<tt>Boolean</tt>) <strong>member?</strong>(key) </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns <code>true</code> if the given key is present in <i>hsh</i>.</p>

<p>h = { &quot;a&quot; =&gt; 100, &quot;b&quot; =&gt; 200 }
   h.has_key?(&quot;a&quot;)   #=&gt; true
   h.has_key?(&quot;z&quot;)   #=&gt; false</p>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">- (<tt>Boolean</tt>) <strong>has_key?</strong>(key) </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


      </li>
    
      
      <li class="overload_item">
        <span class="signature">- (<tt>Boolean</tt>) <strong>include?</strong>(key) </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


      </li>
    
      
      <li class="overload_item">
        <span class="signature">- (<tt>Boolean</tt>) <strong>key?</strong>(key) </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


      </li>
    
      
      <li class="overload_item">
        <span class="signature">- (<tt>Boolean</tt>) <strong>member?</strong>(key) </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


      </li>
    
  </ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


765
766
767
768
769
770
771
772
773
774
775
776
777
778
779
780</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/hash.c', line 765</span>

static mrb_value
mrb_hash_has_key(mrb_state *mrb, mrb_value hash)
{
  mrb_value key;
  khash_t(ht) *h;
  khiter_t k;

  mrb_get_args(mrb, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">o</span><span style="color:#710">&quot;</span></span>, &amp;key);

  h = RHASH_TBL(hash);
  <span style="color:#080;font-weight:bold">if</span> (h) {
    k = kh_get(ht, mrb, h, key);
    <span style="color:#080;font-weight:bold">return</span> mrb_bool_value(k != kh_end(h));
  }
  <span style="color:#080;font-weight:bold">return</span> mrb_false_value();
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="inspect-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>inspect</strong> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='to_s-instance_method'>to_s</span></span>
    </span>
  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>ISO 15.2.13.4.30 (x)</p>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


206
207
208
209
210
211
212</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrblib/hash.rb', line 206</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">inspect</span>
  <span style="color:#080;font-weight:bold">begin</span>
    <span style="color:#069">self</span>._inspect
  <span style="color:#080;font-weight:bold">rescue</span> <span style="color:#036;font-weight:bold">SystemStackError</span>
    <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">{...}</span><span style="color:#710">&quot;</span></span>
  <span style="color:#080;font-weight:bold">end</span>
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="invert-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>invert</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>call-seq:
    hsh.invert -&gt; new_hash</p>

<p>Returns a new hash created by using <i>hsh</i>&#39;s values as keys, and
 the keys as values.</p>

<pre class="code ruby"><code class="ruby">h = { <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">n</span><span style="color:#710">&quot;</span></span> =&gt; <span style="color:#00D">100</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">m</span><span style="color:#710">&quot;</span></span> =&gt; <span style="color:#00D">100</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">y</span><span style="color:#710">&quot;</span></span> =&gt; <span style="color:#00D">300</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">d</span><span style="color:#710">&quot;</span></span> =&gt; <span style="color:#00D">200</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">a</span><span style="color:#710">&quot;</span></span> =&gt; <span style="color:#00D">0</span> }
h.invert   <span style="color:#777">#=&gt; {0=&gt;&quot;a&quot;, 100=&gt;&quot;m&quot;, 200=&gt;&quot;d&quot;, 300=&gt;&quot;y&quot;}</span>
</code></pre>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


213
214
215
216
217</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-hash-ext/mrblib/hash.rb', line 213</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">invert</span>
  h = <span style="color:#036;font-weight:bold">Hash</span>.new
  <span style="color:#069">self</span>.each {|k, v| h[v] = k }
  h
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="keep_if-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>keep_if</strong>(&amp;block) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>call-seq:
    hsh.keep_if {| key, value | block }  -&gt; hsh
    hsh.keep_if                          -&gt; an_enumerator</p>

<p>Deletes every key-value pair from <i>hsh</i> for which <i>block</i>
 evaluates to false.</p>

<p>If no block is given, an enumerator is returned instead.</p>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


230
231
232
233
234
235
236
237
238
239
240</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-hash-ext/mrblib/hash.rb', line 230</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">keep_if</span>(&amp;block)
  <span style="color:#080;font-weight:bold">return</span> to_enum <span style="color:#A60">:keep_if</span> <span style="color:#080;font-weight:bold">unless</span> block_given?

  keys = []
  <span style="color:#069">self</span>.each <span style="color:#080;font-weight:bold">do</span> |k, v|
    <span style="color:#080;font-weight:bold">unless</span> block.call([k, v])
      <span style="color:#069">self</span>.delete(k)
    <span style="color:#080;font-weight:bold">end</span>
  <span style="color:#080;font-weight:bold">end</span>
  <span style="color:#069">self</span>
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="key-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>key</strong>(val) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>call-seq:
    hsh.key(value)    -&gt; key</p>

<p>Returns the key of an occurrence of a given value. If the value is
 not found, returns <code>nil</code>.</p>

<pre class="code ruby"><code class="ruby">h = { <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">a</span><span style="color:#710">&quot;</span></span> =&gt; <span style="color:#00D">100</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">b</span><span style="color:#710">&quot;</span></span> =&gt; <span style="color:#00D">200</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">c</span><span style="color:#710">&quot;</span></span> =&gt; <span style="color:#00D">300</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">d</span><span style="color:#710">&quot;</span></span> =&gt; <span style="color:#00D">300</span> }
h.key(<span style="color:#00D">200</span>)   <span style="color:#777">#=&gt; &quot;b&quot;</span>
h.key(<span style="color:#00D">300</span>)   <span style="color:#777">#=&gt; &quot;c&quot;</span>
h.key(<span style="color:#00D">999</span>)   <span style="color:#777">#=&gt; nil</span>
</code></pre>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


255
256
257
258
259
260</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-hash-ext/mrblib/hash.rb', line 255</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">key</span>(val)
  <span style="color:#069">self</span>.each <span style="color:#080;font-weight:bold">do</span> |k, v|
    <span style="color:#080;font-weight:bold">return</span> k <span style="color:#080;font-weight:bold">if</span> v == val
  <span style="color:#080;font-weight:bold">end</span>
  <span style="color:#069">nil</span>
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="key?-instance_method">
  
    
      <span class="overload">- (<tt>Boolean</tt>) <strong>has_key?</strong>(key) </span>
    
      <span class="overload">- (<tt>Boolean</tt>) <strong>include?</strong>(key) </span>
    
      <span class="overload">- (<tt>Boolean</tt>) <strong>key?</strong>(key) </span>
    
      <span class="overload">- (<tt>Boolean</tt>) <strong>member?</strong>(key) </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns <code>true</code> if the given key is present in <i>hsh</i>.</p>

<p>h = { &quot;a&quot; =&gt; 100, &quot;b&quot; =&gt; 200 }
   h.has_key?(&quot;a&quot;)   #=&gt; true
   h.has_key?(&quot;z&quot;)   #=&gt; false</p>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">- (<tt>Boolean</tt>) <strong>has_key?</strong>(key) </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


      </li>
    
      
      <li class="overload_item">
        <span class="signature">- (<tt>Boolean</tt>) <strong>include?</strong>(key) </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


      </li>
    
      
      <li class="overload_item">
        <span class="signature">- (<tt>Boolean</tt>) <strong>key?</strong>(key) </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


      </li>
    
      
      <li class="overload_item">
        <span class="signature">- (<tt>Boolean</tt>) <strong>member?</strong>(key) </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


      </li>
    
  </ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


765
766
767
768
769
770
771
772
773
774
775
776
777
778
779
780</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/hash.c', line 765</span>

static mrb_value
mrb_hash_has_key(mrb_state *mrb, mrb_value hash)
{
  mrb_value key;
  khash_t(ht) *h;
  khiter_t k;

  mrb_get_args(mrb, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">o</span><span style="color:#710">&quot;</span></span>, &amp;key);

  h = RHASH_TBL(hash);
  <span style="color:#080;font-weight:bold">if</span> (h) {
    k = kh_get(ht, mrb, h, key);
    <span style="color:#080;font-weight:bold">return</span> mrb_bool_value(k != kh_end(h));
  }
  <span style="color:#080;font-weight:bold">return</span> mrb_false_value();
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="keys-instance_method">
  
    - (<tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span></tt>) <strong>keys</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns a new array populated with the keys from this hash. See also
<code>Hash#values</code>.</p>

<p>h = { &quot;a&quot; =&gt; 100, &quot;b&quot; =&gt; 200, &quot;c&quot; =&gt; 300, &quot;d&quot; =&gt; 400 }
   h.keys   #=&gt; [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;]</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>




</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


691
692
693
694
695
696
697
698
699
700
701
702
703
704
705
706
707
708
709
710
711
712</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/hash.c', line 691</span>

<span style="color:#036;font-weight:bold">MRB_API</span> mrb_value
mrb_hash_keys(mrb_state *mrb, mrb_value hash)
{
  khash_t(ht) *h = RHASH_TBL(hash);
  khiter_t k;
  mrb_value ary;
  mrb_value *p;

  <span style="color:#080;font-weight:bold">if</span> (!h || kh_size(h) == <span style="color:#00D">0</span>) <span style="color:#080;font-weight:bold">return</span> mrb_ary_new(mrb);
  ary = mrb_ary_new_capa(mrb, kh_size(h));
  mrb_ary_set(mrb, ary, kh_size(h)-<span style="color:#00D">1</span>, mrb_nil_value());
  p = mrb_ary_ptr(ary)-&gt;ptr;
  <span style="color:#080;font-weight:bold">for</span> (k = kh_begin(h); k != kh_end(h); k++) {
    <span style="color:#080;font-weight:bold">if</span> (kh_exist(h, k)) {
      mrb_value kv = kh_key(h, k);
      mrb_hash_value hv = kh_value(h, k);

      p[hv.n] = kv;
    }
  }
  <span style="color:#080;font-weight:bold">return</span> ary;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="length-instance_method">
  
    
      <span class="overload">- (<tt><span class='object_link'><a href="Fixnum.html" title="Fixnum (class)">Fixnum</a></span></tt>) <strong>length</strong> </span>
    
      <span class="overload">- (<tt><span class='object_link'><a href="Fixnum.html" title="Fixnum (class)">Fixnum</a></span></tt>) <strong>size</strong> </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns the number of key-value pairs in the hash.</p>

<p>h = { &quot;d&quot; =&gt; 100, &quot;a&quot; =&gt; 200, &quot;v&quot; =&gt; 300, &quot;e&quot; =&gt; 400 }
   h.length        #=&gt; 4
   h.delete(&quot;a&quot;)   #=&gt; 200
   h.length        #=&gt; 3</p>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">- (<tt><span class='object_link'><a href="Fixnum.html" title="Fixnum (class)">Fixnum</a></span></tt>) <strong>length</strong> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Fixnum.html" title="Fixnum (class)">Fixnum</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


      </li>
    
      
      <li class="overload_item">
        <span class="signature">- (<tt><span class='object_link'><a href="Fixnum.html" title="Fixnum (class)">Fixnum</a></span></tt>) <strong>size</strong> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Fixnum.html" title="Fixnum (class)">Fixnum</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


      </li>
    
  </ul>


</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


636
637
638
639
640
641
642
643</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/hash.c', line 636</span>

static mrb_value
mrb_hash_size_m(mrb_state *mrb, mrb_value <span style="color:#069">self</span>)
{
  khash_t(ht) *h = RHASH_TBL(<span style="color:#069">self</span>);

  <span style="color:#080;font-weight:bold">if</span> (!h) <span style="color:#080;font-weight:bold">return</span> mrb_fixnum_value(<span style="color:#00D">0</span>);
  <span style="color:#080;font-weight:bold">return</span> mrb_fixnum_value(kh_size(h));
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="member?-instance_method">
  
    
      <span class="overload">- (<tt>Boolean</tt>) <strong>has_key?</strong>(key) </span>
    
      <span class="overload">- (<tt>Boolean</tt>) <strong>include?</strong>(key) </span>
    
      <span class="overload">- (<tt>Boolean</tt>) <strong>key?</strong>(key) </span>
    
      <span class="overload">- (<tt>Boolean</tt>) <strong>member?</strong>(key) </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns <code>true</code> if the given key is present in <i>hsh</i>.</p>

<p>h = { &quot;a&quot; =&gt; 100, &quot;b&quot; =&gt; 200 }
   h.has_key?(&quot;a&quot;)   #=&gt; true
   h.has_key?(&quot;z&quot;)   #=&gt; false</p>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">- (<tt>Boolean</tt>) <strong>has_key?</strong>(key) </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


      </li>
    
      
      <li class="overload_item">
        <span class="signature">- (<tt>Boolean</tt>) <strong>include?</strong>(key) </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


      </li>
    
      
      <li class="overload_item">
        <span class="signature">- (<tt>Boolean</tt>) <strong>key?</strong>(key) </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


      </li>
    
      
      <li class="overload_item">
        <span class="signature">- (<tt>Boolean</tt>) <strong>member?</strong>(key) </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


      </li>
    
  </ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


765
766
767
768
769
770
771
772
773
774
775
776
777
778
779
780</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/hash.c', line 765</span>

static mrb_value
mrb_hash_has_key(mrb_state *mrb, mrb_value hash)
{
  mrb_value key;
  khash_t(ht) *h;
  khiter_t k;

  mrb_get_args(mrb, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">o</span><span style="color:#710">&quot;</span></span>, &amp;key);

  h = RHASH_TBL(hash);
  <span style="color:#080;font-weight:bold">if</span> (h) {
    k = kh_get(ht, mrb, h, key);
    <span style="color:#080;font-weight:bold">return</span> mrb_bool_value(k != kh_end(h));
  }
  <span style="color:#080;font-weight:bold">return</span> mrb_false_value();
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="merge-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>merge</strong>(other, &amp;block) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Return a hash which contains the content of
+self+ and +other+. If a block is given
it will be called for each element with
a duplicate key. The value of the block
will be the final value of this element.</p>

<p>ISO 15.2.13.4.22</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="TypeError.html" title="TypeError (class)">TypeError</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


180
181
182
183
184
185
186
187
188
189
190
191
192
193</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrblib/hash.rb', line 180</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">merge</span>(other, &amp;block)
  h = {}
  raise <span style="color:#036;font-weight:bold">TypeError</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">can't convert argument into Hash</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">unless</span> other.respond_to?(<span style="color:#A60">:to_hash</span>)
  other = other.to_hash
  <span style="color:#069">self</span>.each_key{|k| h[k] = <span style="color:#069">self</span>[k]}
  <span style="color:#080;font-weight:bold">if</span> block
    other.each_key{|k|
      h[k] = (<span style="color:#069">self</span>.has_key?(k))? block.call(k, <span style="color:#069">self</span>[k], other[k]): other[k]
    }
  <span style="color:#080;font-weight:bold">else</span>
    other.each_key{|k| h[k] = other[k]}
  <span style="color:#080;font-weight:bold">end</span>
  h
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="merge!-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>merge!</strong>(other, &amp;block) 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='update-instance_method'>update</span></span>
    </span>
  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>call-seq:
    hsh.merge!(other_hash)                                 -&gt; hsh
    hsh.merge!(other_hash){|key, oldval, newval| block}    -&gt; hsh</p>

<p>Adds the contents of <em>other_hash</em> to <em>hsh</em>.  If no block is specified,
 entries with duplicate keys are overwritten with the values from
 <em>other_hash</em>, otherwise the value of each duplicate key is determined by
 calling the block with the key, its value in <em>hsh</em> and its value in
 <em>other_hash</em>.</p>

<pre class="code ruby"><code class="ruby">h1 = { <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">a</span><span style="color:#710">&quot;</span></span> =&gt; <span style="color:#00D">100</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">b</span><span style="color:#710">&quot;</span></span> =&gt; <span style="color:#00D">200</span> }
h2 = { <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">b</span><span style="color:#710">&quot;</span></span> =&gt; <span style="color:#00D">254</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">c</span><span style="color:#710">&quot;</span></span> =&gt; <span style="color:#00D">300</span> }
h1.merge!(h2)   <span style="color:#777">#=&gt; {&quot;a&quot;=&gt;100, &quot;b&quot;=&gt;254, &quot;c&quot;=&gt;300}</span>

h1 = { <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">a</span><span style="color:#710">&quot;</span></span> =&gt; <span style="color:#00D">100</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">b</span><span style="color:#710">&quot;</span></span> =&gt; <span style="color:#00D">200</span> }
h2 = { <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">b</span><span style="color:#710">&quot;</span></span> =&gt; <span style="color:#00D">254</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">c</span><span style="color:#710">&quot;</span></span> =&gt; <span style="color:#00D">300</span> }
h1.merge!(h2) { |key, v1, v2| v1 }
                <span style="color:#777">#=&gt; {&quot;a&quot;=&gt;100, &quot;b&quot;=&gt;200, &quot;c&quot;=&gt;300}</span>
</code></pre>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="TypeError.html" title="TypeError (class)">TypeError</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


103
104
105
106
107
108
109
110
111
112
113</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-hash-ext/mrblib/hash.rb', line 103</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">merge!</span>(other, &amp;block)
  raise <span style="color:#036;font-weight:bold">TypeError</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">can't convert argument into Hash</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">unless</span> other.respond_to?(<span style="color:#A60">:to_hash</span>)
  <span style="color:#080;font-weight:bold">if</span> block
    other.each_key{|k|
      <span style="color:#069">self</span>[k] = (<span style="color:#069">self</span>.has_key?(k))? block.call(k, <span style="color:#069">self</span>[k], other[k]): other[k]
    }
  <span style="color:#080;font-weight:bold">else</span>
    other.each_key{|k| <span style="color:#069">self</span>[k] = other[k]}
  <span style="color:#080;font-weight:bold">end</span>
  <span style="color:#069">self</span>
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="rehash-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>rehash</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>call-seq:
   hsh.rehash -&gt; hsh</p>

<p>Rebuilds the hash based on the current hash values for each key. If
 values of key objects have changed since they were inserted, this
 method will reindex <i>hsh</i>.</p>

<pre class="code ruby"><code class="ruby">h = {<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">AAA</span><span style="color:#710">&quot;</span></span> =&gt; <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">b</span><span style="color:#710">&quot;</span></span>}
h.keys[<span style="color:#00D">0</span>].chop!
h          <span style="color:#777">#=&gt; {&quot;AA&quot;=&gt;&quot;b&quot;}</span>
h[<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">AA</span><span style="color:#710">&quot;</span></span>]    <span style="color:#777">#=&gt; nil</span>
h.rehash   <span style="color:#777">#=&gt; {&quot;AA&quot;=&gt;&quot;b&quot;}</span>
h[<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">AA</span><span style="color:#710">&quot;</span></span>]    <span style="color:#777">#=&gt; &quot;b&quot;</span>
</code></pre>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


337
338
339
340
341
342
343</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrblib/hash.rb', line 337</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">rehash</span>
  h = {}
  <span style="color:#069">self</span>.each{|k,v|
    h[k] = v
  }
  <span style="color:#069">self</span>.replace(h)
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="reject-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>reject</strong>(&amp;b) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>call-seq:
    hsh.reject {|key, value| block}   -&gt; a_hash
    hsh.reject                        -&gt; an_enumerator</p>

<p>Returns a new hash consisting of entries for which the block returns false.</p>

<p>If no block is given, an enumerator is returned instead.</p>

<pre class="code ruby"><code class="ruby">h = { <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">a</span><span style="color:#710">&quot;</span></span> =&gt; <span style="color:#00D">100</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">b</span><span style="color:#710">&quot;</span></span> =&gt; <span style="color:#00D">200</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">c</span><span style="color:#710">&quot;</span></span> =&gt; <span style="color:#00D">300</span> }
h.reject {|k,v| k &lt; <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">b</span><span style="color:#710">&quot;</span></span>}  <span style="color:#777">#=&gt; {&quot;b&quot; =&gt; 200, &quot;c&quot; =&gt; 300}</span>
h.reject {|k,v| v &gt; <span style="color:#00D">100</span>}  <span style="color:#777">#=&gt; {&quot;a&quot; =&gt; 100}</span>
</code></pre>

<p>1.8/1.9 Hash#reject returns Hash; ISO says nothing.</p>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


257
258
259
260
261
262
263
264
265
266
267</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrblib/hash.rb', line 257</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">reject</span>(&amp;b)
  <span style="color:#080;font-weight:bold">return</span> to_enum <span style="color:#A60">:reject</span> <span style="color:#080;font-weight:bold">unless</span> block_given?

  h = {}
  <span style="color:#069">self</span>.each{|k,v|
    <span style="color:#080;font-weight:bold">unless</span> b.call([k, v])
      h[k] = v
    <span style="color:#080;font-weight:bold">end</span>
  }
  h
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="reject!-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>reject!</strong>(&amp;b) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>call-seq:
    hsh.reject! {| key, value | block }  -&gt; hsh or nil
    hsh.reject!                          -&gt; an_enumerator</p>

<p>Equivalent to <code>Hash#delete_if</code>, but returns
 <code>nil</code> if no changes were made.</p>

<p>1.8/1.9 Hash#reject! returns Hash; ISO says nothing.</p>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


226
227
228
229
230
231
232
233
234
235
236
237
238
239
240</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrblib/hash.rb', line 226</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">reject!</span>(&amp;b)
  <span style="color:#080;font-weight:bold">return</span> to_enum <span style="color:#A60">:reject!</span> <span style="color:#080;font-weight:bold">unless</span> block_given?

  keys = []
  <span style="color:#069">self</span>.each{|k,v|
    <span style="color:#080;font-weight:bold">if</span> b.call([k, v])
      keys.push(k)
    <span style="color:#080;font-weight:bold">end</span>
  }
  <span style="color:#080;font-weight:bold">return</span> <span style="color:#069">nil</span> <span style="color:#080;font-weight:bold">if</span> keys.size == <span style="color:#00D">0</span>
  keys.each{|k|
    <span style="color:#069">self</span>.delete(k)
  }
  <span style="color:#069">self</span>
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="replace-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>replace</strong>(hash) 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='initialize_copy-instance_method'>initialize_copy</span></span>
    </span>
  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Replaces the contents of <i>hsh</i> with the contents of other hash</p>

<p>ISO 15.2.13.4.23</p>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


156
157
158
159
160
161
162
163
164
165
166
167
168</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrblib/hash.rb', line 156</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">replace</span>(hash)
  <span style="color:#069">self</span>.clear
  hash = hash.to_hash
  hash.each_key{|k|
    <span style="color:#069">self</span>[k] = hash[k]
  }
  <span style="color:#080;font-weight:bold">if</span> hash.default_proc
    <span style="color:#069">self</span>.default_proc = hash.default_proc
  <span style="color:#080;font-weight:bold">else</span>
    <span style="color:#069">self</span>.default = hash.default
  <span style="color:#080;font-weight:bold">end</span>
  <span style="color:#069">self</span>
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="select-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>select</strong>(&amp;b) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>call-seq:
    hsh.select {|key, value| block}   -&gt; a_hash
    hsh.select                        -&gt; an_enumerator</p>

<p>Returns a new hash consisting of entries for which the block returns true.</p>

<p>If no block is given, an enumerator is returned instead.</p>

<pre class="code ruby"><code class="ruby">h = { <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">a</span><span style="color:#710">&quot;</span></span> =&gt; <span style="color:#00D">100</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">b</span><span style="color:#710">&quot;</span></span> =&gt; <span style="color:#00D">200</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">c</span><span style="color:#710">&quot;</span></span> =&gt; <span style="color:#00D">300</span> }
h.select {|k,v| k &gt; <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">a</span><span style="color:#710">&quot;</span></span>}  <span style="color:#777">#=&gt; {&quot;b&quot; =&gt; 200, &quot;c&quot; =&gt; 300}</span>
h.select {|k,v| v &lt; <span style="color:#00D">200</span>}  <span style="color:#777">#=&gt; {&quot;a&quot; =&gt; 100}</span>
</code></pre>

<p>1.9 Hash#select returns Hash; ISO says nothing</p>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


310
311
312
313
314
315
316
317
318
319
320</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrblib/hash.rb', line 310</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">select</span>(&amp;b)
  <span style="color:#080;font-weight:bold">return</span> to_enum <span style="color:#A60">:select</span> <span style="color:#080;font-weight:bold">unless</span> block_given?

  h = {}
  <span style="color:#069">self</span>.each{|k,v|
    <span style="color:#080;font-weight:bold">if</span> b.call([k, v])
      h[k] = v
    <span style="color:#080;font-weight:bold">end</span>
  }
  h
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="select!-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>select!</strong>(&amp;b) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>call-seq:
    hsh.select! {| key, value | block }  -&gt; hsh or nil
    hsh.select!                          -&gt; an_enumerator</p>

<p>Equivalent to <code>Hash#keep_if</code>, but returns
 <code>nil</code> if no changes were made.</p>

<p>1.9 Hash#select! returns Hash; ISO says nothing.</p>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


279
280
281
282
283
284
285
286
287
288
289
290
291
292
293</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrblib/hash.rb', line 279</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">select!</span>(&amp;b)
  <span style="color:#080;font-weight:bold">return</span> to_enum <span style="color:#A60">:select!</span> <span style="color:#080;font-weight:bold">unless</span> block_given?

  keys = []
  <span style="color:#069">self</span>.each{|k,v|
    <span style="color:#080;font-weight:bold">unless</span> b.call([k, v])
      keys.push(k)
    <span style="color:#080;font-weight:bold">end</span>
  }
  <span style="color:#080;font-weight:bold">return</span> <span style="color:#069">nil</span> <span style="color:#080;font-weight:bold">if</span> keys.size == <span style="color:#00D">0</span>
  keys.each{|k|
    <span style="color:#069">self</span>.delete(k)
  }
  <span style="color:#069">self</span>
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="shift-instance_method">
  
    - (<tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span></tt>, <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>shift</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Removes a key-value pair from <i>hsh</i> and returns it as the
two-item array <code>[</code> <i>key, value</i> <code>]</code>, or
the hash&#39;s default value if the hash is empty.</p>

<pre class="code"><code class="">h = { <span style="color:#00D">1</span> =&gt; <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">a</span><span style="color:#710">&quot;</span></span>, <span style="color:#00D">2</span> =&gt; <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">b</span><span style="color:#710">&quot;</span></span>, <span style="color:#00D">3</span> =&gt; <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">c</span><span style="color:#710">&quot;</span></span> }
h.shift   <span style="color:#777">#=&gt; [1, &quot;a&quot;]</span>
h         <span style="color:#777">#=&gt; {2=&gt;&quot;b&quot;, 3=&gt;&quot;c&quot;}</span>
</code></pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span></tt>, <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>




</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


543
544
545
546
547
548
549
550
551
552
553
554
555
556
557
558
559
560
561
562
563
564
565
566
567
568
569
570</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/hash.c', line 543</span>

static mrb_value
mrb_hash_shift(mrb_state *mrb, mrb_value hash)
{
  khash_t(ht) *h = RHASH_TBL(hash);
  khiter_t k;
  mrb_value delKey, delVal;

  mrb_hash_modify(mrb, hash);
  <span style="color:#080;font-weight:bold">if</span> (h &amp;&amp; kh_size(h) &gt; <span style="color:#00D">0</span>) {
    <span style="color:#080;font-weight:bold">for</span> (k = kh_begin(h); k != kh_end(h); k++) {
      <span style="color:#080;font-weight:bold">if</span> (!kh_exist(h, k)) continue;

      delKey = kh_key(h, k);
      mrb_gc_protect(mrb, delKey);
      delVal = mrb_hash_delete_key(mrb, hash, delKey);
      mrb_gc_protect(mrb, delVal);

      <span style="color:#080;font-weight:bold">return</span> mrb_assoc_new(mrb, delKey, delVal);
    }
  }

  <span style="color:#080;font-weight:bold">if</span> (MRB_RHASH_PROCDEFAULT_P(hash)) {
    <span style="color:#080;font-weight:bold">return</span> mrb_funcall(mrb, RHASH_PROCDEFAULT(hash), <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">call</span><span style="color:#710">&quot;</span></span>, <span style="color:#00D">2</span>, hash, mrb_nil_value());
  }
  <span style="color:#080;font-weight:bold">else</span> {
    <span style="color:#080;font-weight:bold">return</span> RHASH_IFNONE(hash);
  }
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="size-instance_method">
  
    
      <span class="overload">- (<tt><span class='object_link'><a href="Fixnum.html" title="Fixnum (class)">Fixnum</a></span></tt>) <strong>length</strong> </span>
    
      <span class="overload">- (<tt><span class='object_link'><a href="Fixnum.html" title="Fixnum (class)">Fixnum</a></span></tt>) <strong>size</strong> </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns the number of key-value pairs in the hash.</p>

<p>h = { &quot;d&quot; =&gt; 100, &quot;a&quot; =&gt; 200, &quot;v&quot; =&gt; 300, &quot;e&quot; =&gt; 400 }
   h.length        #=&gt; 4
   h.delete(&quot;a&quot;)   #=&gt; 200
   h.length        #=&gt; 3</p>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">- (<tt><span class='object_link'><a href="Fixnum.html" title="Fixnum (class)">Fixnum</a></span></tt>) <strong>length</strong> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Fixnum.html" title="Fixnum (class)">Fixnum</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


      </li>
    
      
      <li class="overload_item">
        <span class="signature">- (<tt><span class='object_link'><a href="Fixnum.html" title="Fixnum (class)">Fixnum</a></span></tt>) <strong>size</strong> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Fixnum.html" title="Fixnum (class)">Fixnum</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


      </li>
    
  </ul>


</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


636
637
638
639
640
641
642
643</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/hash.c', line 636</span>

static mrb_value
mrb_hash_size_m(mrb_state *mrb, mrb_value <span style="color:#069">self</span>)
{
  khash_t(ht) *h = RHASH_TBL(<span style="color:#069">self</span>);

  <span style="color:#080;font-weight:bold">if</span> (!h) <span style="color:#080;font-weight:bold">return</span> mrb_fixnum_value(<span style="color:#00D">0</span>);
  <span style="color:#080;font-weight:bold">return</span> mrb_fixnum_value(kh_size(h));
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="store-instance_method">
  
    
      <span class="overload">- (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>[]=</strong>(key) </span>
    
      <span class="overload">- (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>store</strong>(key, value) </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Element Assignment---Associates the value given by
<i>value</i> with the key given by <i>key</i>.
<i>key</i> should not have its value changed while it is in
use as a key (a <code>String</code> passed as a key will be
duplicated and frozen).</p>

<pre class="code"><code class="">h = { <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">a</span><span style="color:#710">&quot;</span></span> =&gt; <span style="color:#00D">100</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">b</span><span style="color:#710">&quot;</span></span> =&gt; <span style="color:#00D">200</span> }
h[<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">a</span><span style="color:#710">&quot;</span></span>] = <span style="color:#00D">9</span>
h[<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">c</span><span style="color:#710">&quot;</span></span>] = <span style="color:#00D">4</span>
h   <span style="color:#777">#=&gt; {&quot;a&quot;=&gt;9, &quot;b&quot;=&gt;200, &quot;c&quot;=&gt;4}</span>
</code></pre>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


612
613
614
615
616
617
618
619
620</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/hash.c', line 612</span>

static mrb_value
mrb_hash_aset(mrb_state *mrb, mrb_value <span style="color:#069">self</span>)
{
  mrb_value key, val;

  mrb_get_args(mrb, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">oo</span><span style="color:#710">&quot;</span></span>, &amp;key, &amp;val);
  mrb_hash_set(mrb, <span style="color:#069">self</span>, key, val);
  <span style="color:#080;font-weight:bold">return</span> val;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="to_h-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>to_h</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>call-seq:
    hsh.to_h     -&gt; hsh or new_hash</p>

<p>Returns +self+. If called on a subclass of Hash, converts
 the receiver to a Hash object.</p>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


269
270
271</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-hash-ext/mrblib/hash.rb', line 269</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">to_h</span>
  <span style="color:#069">self</span>
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="to_hash-instance_method">
  
    - (<tt><span class='object_link'><a href="" title="Hash (class)">Hash</a></span></tt>) <strong>to_hash</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns +self+.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="Hash (class)">Hash</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>




</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


672
673
674
675
676</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/hash.c', line 672</span>

static mrb_value
mrb_hash_to_hash(mrb_state *mrb, mrb_value hash)
{
  <span style="color:#080;font-weight:bold">return</span> hash;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="value?-instance_method">
  
    
      <span class="overload">- (<tt>Boolean</tt>) <strong>has_value?</strong>(value) </span>
    
      <span class="overload">- (<tt>Boolean</tt>) <strong>value?</strong>(value) </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns <code>true</code> if the given value is present for some key
in <i>hsh</i>.</p>

<p>h = { &quot;a&quot; =&gt; 100, &quot;b&quot; =&gt; 200 }
   h.has_value?(100)   #=&gt; true
   h.has_value?(999)   #=&gt; false</p>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">- (<tt>Boolean</tt>) <strong>has_value?</strong>(value) </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


      </li>
    
      
      <li class="overload_item">
        <span class="signature">- (<tt>Boolean</tt>) <strong>value?</strong>(value) </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


      </li>
    
  </ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


797
798
799
800
801
802
803
804
805
806
807
808
809
810
811
812
813
814
815
816
817</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/hash.c', line 797</span>

static mrb_value
mrb_hash_has_value(mrb_state *mrb, mrb_value hash)
{
  mrb_value val;
  khash_t(ht) *h;
  khiter_t k;

  mrb_get_args(mrb, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">o</span><span style="color:#710">&quot;</span></span>, &amp;val);
  h = RHASH_TBL(hash);

  <span style="color:#080;font-weight:bold">if</span> (h) {
    <span style="color:#080;font-weight:bold">for</span> (k = kh_begin(h); k != kh_end(h); k++) {
      <span style="color:#080;font-weight:bold">if</span> (!kh_exist(h, k)) continue;

      <span style="color:#080;font-weight:bold">if</span> (mrb_equal(mrb, kh_value(h, k).v, val)) {
        <span style="color:#080;font-weight:bold">return</span> mrb_true_value();
      }
    }
  }
  <span style="color:#080;font-weight:bold">return</span> mrb_false_value();
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="values-instance_method">
  
    - (<tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span></tt>) <strong>values</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns a new array populated with the values from <i>hsh</i>. See
also <code>Hash#keys</code>.</p>

<p>h = { &quot;a&quot; =&gt; 100, &quot;b&quot; =&gt; 200, &quot;c&quot; =&gt; 300 }
   h.values   #=&gt; [100, 200, 300]</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>




</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


727
728
729
730
731
732
733
734
735
736
737
738
739
740
741
742
743
744</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/hash.c', line 727</span>

static mrb_value
mrb_hash_values(mrb_state *mrb, mrb_value hash)
{
  khash_t(ht) *h = RHASH_TBL(hash);
  khiter_t k;
  mrb_value ary;

  <span style="color:#080;font-weight:bold">if</span> (!h) <span style="color:#080;font-weight:bold">return</span> mrb_ary_new(mrb);
  ary = mrb_ary_new_capa(mrb, kh_size(h));
  <span style="color:#080;font-weight:bold">for</span> (k = kh_begin(h); k != kh_end(h); k++) {
    <span style="color:#080;font-weight:bold">if</span> (kh_exist(h, k)) {
      mrb_hash_value hv = kh_value(h, k);

      mrb_ary_set(mrb, ary, hv.n, hv.v);
    }
  }
  <span style="color:#080;font-weight:bold">return</span> ary;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="values_at-instance_method">
  
    - (<tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span></tt>) <strong>values_at</strong>(key, ...) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Return an array containing the values associated with the given keys.
Also see <code>Hash.select</code>.</p>

<p>h = { &quot;cat&quot; =&gt; &quot;feline&quot;, &quot;dog&quot; =&gt; &quot;canine&quot;, &quot;cow&quot; =&gt; &quot;bovine&quot; }
  h.values_at(&quot;cow&quot;, &quot;cat&quot;)  #=&gt; [&quot;bovine&quot;, &quot;feline&quot;]</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>




</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-hash-ext/src/hash-ext.c', line 22</span>

static mrb_value
hash_values_at(mrb_state *mrb, mrb_value hash)
{
  mrb_value *argv, result;
  mrb_int argc, i;
  int ai;

  mrb_get_args(mrb, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">*</span><span style="color:#710">&quot;</span></span>, &amp;argv, &amp;argc);
  result = mrb_ary_new_capa(mrb, argc);
  ai = mrb_gc_arena_save(mrb);
  <span style="color:#080;font-weight:bold">for</span> (i = <span style="color:#00D">0</span>; i &lt; argc; i++) {
    mrb_ary_push(mrb, result, mrb_hash_get(mrb, hash, argv[i]));
    mrb_gc_arena_restore(mrb, ai);
  }
  <span style="color:#080;font-weight:bold">return</span> result;
}</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

    <div id="footer">
  Generated on Sun Jan 17 01:23:00 2016 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.8.7.6 in <a href="https://github.com/sagmor/yard-mruby">mruby mode</a> 0.2.2 (ruby-2.2.3).
</div>

  </body>
</html>